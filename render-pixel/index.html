<body>
  <div id='punks'></div>
   <br>
  <script>
   class Pixelart {
       constructor( pixels, options ) {
         this.pixels = pixels;

         this.colors = options.colors  || { '@': '#000000' }
         this.offset = options.offset  || [0,0];

         this.width  = pixels[0].length; // note: assume all rows the same for now
         this.height = pixels.length;

        //  console.log( `  width x height: ${this.width} x ${this.height}, offset: ${this.offset}` );
       }

       static parse( str, options ) {
          var pixels = Array(['@'])
          console.log(pixels)
          return new Pixelart( pixels, options );
       }

       draw( ctx, zoom=1 ) {
         this.pixels.forEach( (row, y) => {
                   row.forEach( (pixel, x) => {

            if( pixel != '.' ) {  // auto-skip transparent for now - why? why not?
              ctx.fillStyle = this.colors[pixel];
              ctx.fillRect( x*zoom+this.offset[0]*zoom,
                            y*zoom+this.offset[1]*zoom, zoom, zoom );
            }
           });
         });
       }
   }

const example_design = `@`;

const parsed_design = Pixelart.parse( example_design, {
  colors: {
    '@':  '#000000',   
  }} );

      tag = document.createElement('canvas')
      tag.id = 'punk' + 0
      var element = document.getElementById('punks')
      element.appendChild(tag)
      let canvas = document.querySelector( '#punk0' )  
      canvas.width  = parsed_design.width*20;
      canvas.height = parsed_design.height*20;
      let ctx = canvas.getContext( '2d' );
      parsed_design.draw(ctx, 20)
  </script>
</body>

